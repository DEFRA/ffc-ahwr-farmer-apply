{% extends './layouts/layout.njk' %}

{% block pageTitle %}{{serviceName}}{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "/apply/register-your-interest",
	  attributes: {id: "back"}
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <form method="POST" autocomplete="off" novalidate>
    <input type="hidden" name="crumb" value="{{crumb}}"/>

    {% call govukFieldset({
      legend: {
        text: "Enter your customer reference number (CRN)",
        classes: "govuk-fieldset__legend--l",
        isPageHeading: true
      }
    }) %}
      <p class="govuk-body">Enter your CRN so we can identify you.</p>
      <p class="govuk-body">This is the 10 digit number emailed to you when you created your Rural Payments account.</p>
      {{ 
        govukInput({
          label: {
            text: "Enter your CRN",
            classes: "govuk-label",
            for: "crn"
          },
          classes: "govuk-input govuk-input--width-10",
          id: "crn",
          name: "crn",
          value: crn,
          errorMessage: errorMessages.crn
        }) 
      }}
      {{ 
        govukInput({
          label: {
            text: "Confirm your CRN",
            classes: "govuk-label",
            for: "confirmCrn"
          },
          classes: "govuk-input govuk-input--width-10",
          id: "confirmCrn",
          name: "confirmCrn",
          value: confirmCrn,
          errorMessage: errorMessages.confirmCrn
        }) 
      }}
    {% endcall %}

    {{ 
      govukButton({
        classes: "govuk-!-margin-top-2 govuk-!-margin-bottom-8",
        text: "Continue",
        preventDoubleClick: true
      }) 
    }}

    {{ 
      govukDetails({
        summaryText: "Problems with your CRN",
        html: "<p>If you have lost or forgotten your CRN, contact the Rural Payments Agency.</p>" + rpaContactDetails({email: ruralPaymentsAgency.email, callChargesUri: ruralPaymentsAgency.callChargesUri, telephone: ruralPaymentsAgency.telephone})
      })  
    }}
    </form>
  </div>
</div>
{% endblock %}
